<html>
<head><title>.eunit/ecirca.COVER.html</title></head><body bgcolor=white text=black>
<pre>
File generated from /home/si14/repos/ecirca/.eunit/ecirca.erl by COVER 2011-07-13 at 04:01:53

****************************************************************************

        |  -module(ecirca).
        |  -export([new/1,
        |           set/3,
        |           get/2,
        |           push/2,
        |           slice/3]).
        |  -export([start/0]).
        |  
        |  -on_load(nif_init/0).
        |  
        |  -include_lib("eunit/include/eunit.hrl").
        |  
        |  -define(APPNAME, ?MODULE).
        |  -define(LIBNAME, ?MODULE).
        |  -define(NULLVAL, 16#FFFFFFFFFFFFFFFF).
        |  
        |  -type res() :: &lt;&lt;&gt;&gt;.
        |  
        |  -spec new(pos_integer()) -&gt; {ok, res()}.
<font color=red>     0..|  new(_Size) -&gt; not_loaded(?LINE).</font>
        |  
        |  -spec set(res(), pos_integer(), pos_integer()) -&gt; {ok, res()}.
<font color=red>     0..|  set(_Res, _I, _Val) -&gt; not_loaded(?LINE).</font>
        |  
        |  -spec get(res(), pos_integer()) -&gt; {ok, pos_integer()} |
        |                                     {error, not_found}.
<font color=red>     0..|  get(_Res, _I) -&gt; not_loaded(?LINE).</font>
        |  
        |  -spec push(res(), pos_integer()) -&gt; {ok, res()}.
<font color=red>     0..|  push(_Res, _Val) -&gt; not_loaded(?LINE).</font>
        |  
        |  -spec slice(res(), pos_integer(), pos_integer()) -&gt; [pos_integer()].
<font color=red>     0..|  slice(_Res, _Start, _End) -&gt; not_loaded(?LINE).</font>
        |  
        |  %% @doc Loads a NIF
        |  -spec nif_init() -&gt; ok | {error, _}.
        |  nif_init() -&gt;
     1..|      SoName = case code:priv_dir(?APPNAME) of
        |          {error, bad_name} -&gt;
<font color=red>     0..|              case filelib:is_dir(filename:join(["..", priv])) of</font>
        |                  true -&gt;
<font color=red>     0..|                      filename:join(["..", priv, ?MODULE]);</font>
        |                  _ -&gt;
<font color=red>     0..|                      filename:join([priv, ?MODULE])</font>
        |              end;
        |          Dir -&gt;
     1..|              filename:join(Dir, ?MODULE)
        |      end,
     1..|      erlang:load_nif(SoName, 0).
        |  
        |  not_loaded(Line) -&gt;
<font color=red>     0..|      exit({not_loaded, [{module, ?MODULE}, {line, Line}]}).</font>
        |  
        |  start() -&gt;
<font color=red>     0..|      ok.</font>
        |  %    T = circa:new(5),
        |  %    [circa:push(T, X) || X &lt;- [1, 2, 3, 4]],
        |  %    [io:format("~snd elem: ~p", [X, circa:get(T, X)]) || X &lt;- [1, 2, 3, 4, 5]].
        |  
        |  start_ecirca_()-&gt;
<font color=red>     0..|        [?assertEqual(&lt;&lt;&gt;&gt;, ecirca:new(3))].</font>
        |  
        |  
</pre>
</body>
</html>
